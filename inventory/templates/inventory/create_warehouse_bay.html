{% extends "inventory/base.html" %}
{% load staticfiles %}
{% load inventory_extras %}

{% block additional_head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'scripts/selectize/selectize.css' %}">
<link rel="stylesheet" href="{% static 'css/inventory.css' %}">
<script src="{% static 'scripts/selectize/selectize.js' %}"></script>
<script src="{% static 'scripts/new_product.js' %}"></script>
<script>{% include 'product_editor/widgets/product_widgets.js' %}</script>
{% endblock %}

{% block page_title %}New Bay{% endblock %}

{% block content %}{{ block.super }}
    <h2>Create Warehouse Bay</h2>
    {% if form.errors %}
        <ul class="error">
            {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
    <form action="" method="POST">{% csrf_token %}
        <table>
            {% for field in form %}
                <tr class="{{ field.name }}">
                    <th><label for="">{{ field.label }}</label></th>
                    <td>{{ field }}</td>
                    <td>{{ field.help_text }}</td>
                    <td class="error">{{ field.errors }}</td>
                </tr>
            {% endfor %}
            <tr>
                <th colspan="3"><input type="submit" value="Create Bay"></th>
            </tr>
        </table>
    </form>
{% endblock %}

{% block script %}
<script>
    $(document).ready(function() {
        $('input[name=bay_type]').change(function() {
            var checked = $(this).find(':checked');
            if ($('input[name=bay_type][value=primary]').is(':checked')) {
                $('.location').attr('hidden', true);
            } else {
                $('.location').attr('hidden', false);
            }
        });

        $('input[name=bay_type]').change();
    });
</script>
{% endblock %}
